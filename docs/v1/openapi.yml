openapi: "3.0.2"
info:
  title: Sator API
  version: "0.0.1"
servers:
  - url: http://localhost:8080/
    description: Local server
  - url: https://api.stage.sator.io/
    description: Development / Staging server
components:
  securitySchemes:
    bearerAuth: # arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    EmptyBody:
      description: Returns only HTTP status, without any payload.
    ResultSuccess:
      description: "Successful result"
      content:
        application/json:
          schema:
            type: object
            properties:
              result:
                type: boolean
                example: true
    AccessToken:
      description: Returns JWT token.
      content:
        application/json:
          schema:
            type: object
            properties:
              access_token:
                type: string
                example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
    DefaultError:
      description: Default error view.
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: "something went wrong"
    UnauthorizedError:
      description: Access token is missing or invalid
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: "Access token is missing or invalid"
    ValidationError:
      description: Validation errors.
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: object
                properties:
                  field_name:
                    type: array
                    items:
                      type: string
                      example:
                        - "Field field_name cannot be empty"
                        - "Field field_name must be a valid email address"
                  another_field:
                    type: array
                    items:
                      type: string
                      example: "Field another_field must contain at least 8 chars"
paths:
  /:
    get:
      tags:
        - "Common"
      summary: Get current build tag
      responses:
        "200":
          description: Returns current build tag, which contains build date and commit hash.
          content:
            application/json:
              schema:
                type: object
                properties:
                  build_tag:
                    type: string
                    example: "20210514.062552-e5cad484406f996a4da8674f8fbc9ef6e1b925d5"
  /health:
    get:
      tags:
        - "Common"
      summary: Health check
      responses:
        "204":
          description: Get current API running status.

  /auth/login:
    post:
      tags:
        - "Auth"
      summary: Log in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "john.doe@mail.dev"
                password:
                  type: string
                  example: "qwerty12345"
      responses:
        "200":
          $ref: "#/components/responses/AccessToken"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/refresh-token:
    get:
      tags:
        - "Auth"
      summary: Refresh access token (JWT).
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/AccessToken"
        "400":
          $ref: "#/components/responses/DefaultError"
        "403":
          $ref: "#/components/responses/UnauthorizedError"

  /auth/signup:
    post:
      tags:
        - "Auth"
      summary: Sign up
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "john.doe@mail.dev"
                username:
                  type: string
                  example: "johndoe"
                password:
                  type: string
                  example: "qwerty12345"
      responses:
        "200":
          $ref: "#/components/responses/AccessToken"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/logout:
    post:
      tags:
        - "Auth"
      summary: Logout
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /auth/forgot-password:
    post:
      tags:
        - "Auth"
      summary: Forgot password
      description: Requests reset password code.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "john.doe@mail.dev"
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/validate-reset-password-code:
    post:
      tags:
        - "Auth"
      summary: Validate reset password code.
      description: Can be used on screed with reset password code validation.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "john.doe@mail.dev"
                otp:
                  type: string
                  example: "54367"
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/reset-password:
    post:
      tags:
        - "Auth"
      summary: Reset password.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "john.doe@mail.dev"
                password:
                  type: string
                  minimum: 8
                  maximum: 50
                  example: "srgserge45g45grtg"
                otp:
                  type: string
                  example: "54367"
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/verify-account:
    post:
      tags:
        - "Auth"
      summary: Account verification.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                otp:
                  type: string
                  example: "54367"
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "422":
          $ref: "#/components/responses/ValidationError"

  /auth/is-verified:
    get:
      tags:
        - "Auth"
      summary: Account verification status.
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /auth/resend-otp:
    post:
      tags:
        - "Auth"
      summary: Resending OTP to email.
      security:
        - bearerAuth: []
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /profile:
    get:
      tags:
        - "Profile"
      summary: Get user profile data
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Returns user profile data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  username:
                    type: string
                    example: "BigBoy13"
                  first_name:
                    type: string
                    example: "John"
                  last_name:
                    type: string
                    example: "Doe"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /balance:
    get:
      tags:
        - "Wallet"
      summary: Get total balance.
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Get user total balance across all wallets.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    amount:
                      type: number
                      example: 123.45
                    currency:
                      type: string
                      example: "SAO"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /wallets:
    get:
      tags:
        - "Wallet"
      summary: Get wallets list.
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Get user wallets list.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    get_details_url:
                      type: string
                      example: "/wallets/f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    get_transactions_url:
                      type: string
                      example: "/wallets/f4f78cac-5db6-4ecc-ad13-5877705f3126/transactions"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /wallets/{wallet_id}:
    get:
      tags:
        - "Wallet"
      summary: Get wallet details.
      security:
        - bearerAuth: []
      parameters:
        - name: wallet_id
          in: path
          description: Wallet ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Get wallet details, including balance and available actions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  solana_account_address:
                    type: string
                    example: "B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9"
                  balance:
                    type: array
                    items:
                      type: object
                      properties:
                        amount:
                          type: number
                          example: 123.45
                        currency:
                          type: string
                          example: "SAO"
                  actions:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: "send_tokens"
                          description: "Available values: send_tokens, receive_tokens, claim_rewards"
                        name:
                          type: string
                          example: "Send"
                        url:
                          type: string
                          example: "/wallets/f4f78cac-5db6-4ecc-ad13-5877705f3126/send"
                          description: "Relative URL for the request to send tokens"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /wallets/{wallet_id}/transactions:
    get:
      tags:
        - "Wallet"
      summary: Get wallet transactions.
      security:
        - bearerAuth: []
      parameters:
        - name: wallet_id
          in: path
          description: Wallet ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Get wallet transactions list.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    wallet_id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3122"
                    tx_hash:
                      type: string
                      example: "B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9"
                    amount:
                      type: number
                      example: 123.45
                    created_at:
                      type: string
                      example: "2006-01-02T15:04:05Z07:00"
                      description: "RFC3339"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /shows:
    get:
      tags:
        - "Shows"
      summary: Get shows list.
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          description: |
            Set needed page number.

            By default, it returns the first page with a set number of items.
          required: false
          schema:
            type: integer
        - name: items_per_page
          in: query
          description: |
            Set needed items per page.

            By default returns 20 items per page.
          required: false
          schema:
            type: integer
      responses:
        "200":
          description: Returns shows list with pagination.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    title:
                      type: string
                      example: "Peaky Blinders"
                    cover:
                      type: string
                      example: "https://m.media-amazon.com/images/M/MV5BZDUwYWJkNTMtYWMzZC00NGE3LWEzYTYtYjAzZjk0M2MzMDQxXkEyXkFqcGdeQXVyNzk4MTAyOTA@._V1_FMjpg_UX1024_.jpg"
                    has_new_episode:
                      type: boolean
                      example: true
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /shows/{show_id}/challenges:
    get:
      tags:
        - "Shows"
      summary: Get challenges list by show id.
      security:
        - bearerAuth: []
      parameters:
        - name: show_id
          in: path
          description: Show ID.
          required: true
          schema:
            type: string
        - name: page
          in: query
          description: |
            Set needed page number.

            By default, it returns the first page with a set number of items.
          required: false
          schema:
            type: integer
        - name: items_per_page
          in: query
          description: |
            Set needed items per page.

            By default returns 20 items per page.
          required: false
          schema:
            type: integer
      responses:
        "200":
          description: Returns challenges list with pagination.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    title:
                      type: string
                      example: "Challenge name"
                    description:
                      type: string
                      example: "Fast Questions! More detailed description about this challenge here. We can use couple senteces."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /shows/{show_id}:
    get:
      tags:
        - "Shows"
      summary: Get show by id.
      security:
        - bearerAuth: []
      parameters:
        - name: show_id
          in: path
          description: Show ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns show details.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  title:
                    type: string
                    example: "Peaky Blinders"
                  cover:
                    type: string
                    example: "https://m.media-amazon.com/images/M/MV5BZDUwYWJkNTMtYWMzZC00NGE3LWEzYTYtYjAzZjk0M2MzMDQxXkEyXkFqcGdeQXVyNzk4MTAyOTA@._V1_FMjpg_UX1024_.jpg"
                  has_new_episode:
                    type: boolean
                    example: true
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /shows/filter/{category}:
    get:
      tags:
        - "Shows"
      summary: Get shows list by category.
      security:
        - bearerAuth: []
      parameters:
        - name: category
          in: path
          description: Category.
          required: true
          schema:
            type: string
        - name: page
          in: query
          description: |
            Set needed page number.

            By default, it returns the first page with a set number of items.
          required: false
          schema:
            type: integer
        - name: items_per_page
          in: query
          description: |
            Set needed items per page.

            By default returns 20 items per page.
          required: false
          schema:
            type: integer

      responses:
        "200":
          description: Returns shows list with pagination.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    title:
                      type: string
                      example: "Peaky Blinders"
                    cover:
                      type: string
                      example: "https://m.media-amazon.com/images/M/MV5BZDUwYWJkNTMtYWMzZC00NGE3LWEzYTYtYjAzZjk0M2MzMDQxXkEyXkFqcGdeQXVyNzk4MTAyOTA@._V1_FMjpg_UX1024_.jpg"
                    has_new_episode:
                      type: boolean
                      example: true
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /challenges/{id}:
    get:
      tags:
        - "Challenges"
      summary: Get challenge details by id.
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          description: Сhallenge ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns challenge details.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  title:
                    type: string
                    example: "Challenge name"
                  description:
                    type: string
                    example: "Fast Questions! More detailed description about this challenge here. We can use couple senteces."
                  prize_pool:
                    type: string
                    example: "250 SAO"
                  players:
                    type: integer
                    example: 10
                  winners:
                    type: string
                    example: "you + 7 more"
                  time_per_question:
                    type: string
                    example: "8 sec"
                  play:
                    type: string
                    description: "Absolute URL to start quiz. In the future it will be URL to connect websocket."
                    example: "http://localhost:8080/challenges/{challenge_id}/play"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /challenges/{episode_id}/validation-question:
    get:
      tags:
        - "Challenges"
      summary: Get validation question by episode id.
      security:
        - bearerAuth: []
      parameters:
        - name: episode_id
          in: path
          description: Episode ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns validation question with answer options.
          content:
            application/json:
              schema:
                type: object
                properties:
                  question_id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  question_text:
                    type: string
                    example: "Question text"
                  time_for_answer:
                    type: number
                    example: 8
                  answer_options:
                    type: array
                    items:
                      type: object
                      properties:
                        answer_id:
                          type: string
                          example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                        answer_text:
                          type: string
                          example: "Answer text"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /challenges/{question_id}/check-answer/{answer_id}:
    get:
      tags:
        - "Challenges"
      summary: Check validation question`s answer.
      security:
        - bearerAuth: []
      parameters:
        - name: question_id
          in: path
          description: Question ID.
          required: true
          schema:
            type: string
        - name: answer_id
          in: path
          description: Answer ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns boolean result.
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: boolean
                    example: true
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /challenges/{episode_id}/is-activated:
    get:
      tags:
        - "Challenges"
      summary: Check episode access.
      security:
        - bearerAuth: []
      parameters:
        - name: episode_id
          in: path
          description: Episode ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns true if a user have activated realm.
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: boolean
                    example: true
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /qrcodes/{id}:
    get:
      tags:
        - "QR code"
      summary: Get show id and episode id by qrcode id if qrcode isn't expired.
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          description: QRcode ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns qrcode data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  show_id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  episode_id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  reward_amount:
                    type: number
                    example: 123.56
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"
    put:
      tags:
        - "QR code"
      summary: used for update qrcode by id.
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          description: QRcode ID.
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                show_id:
                  type: string
                  example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                episode_id:
                  type: string
                  example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                starts_at:
                  type: string
                  example: "2006-01-02T15:04:05Z"
                  description: "RFC3339"
                expires_at:
                  type: string
                  example: "2006-01-02T15:04:05Z"
                  description: "RFC3339"
                reward_amount:
                  type: number
                  example: 123.56
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

    delete:
      tags:
        - "QR code"
      summary: used for delete qrcode by id.
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          description: QRcode ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /qrcodes:
    post:
      tags:
        - "QR code"
      summary: used for create new qrcode.
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                show_id:
                  type: string
                  example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                episode_id:
                  type: string
                  example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                starts_at:
                  type: string
                  example: "2006-01-02T15:04:05Z"
                  description: "RFC3339"
                expires_at:
                  type: string
                  example: "2006-01-02T15:04:05Z"
                  description: "RFC3339"
                reward_amount:
                  type: number
                  example: 123.56
      responses:
        "200":
          description: Returns qrcode data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  show_id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  episode_id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  starts_at:
                    type: string
                    example: "2006-01-02T15:04:05Z07:00"
                    description: "RFC3339"
                  expires_at:
                    type: string
                    example: "2006-01-02T15:04:05Z07:00"
                    description: "RFC3339"
                  reward_amount:
                    type: number
                    example: 123.56
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"


  /quiz/{challenge_id}/play:
    get:
      tags:
        - "Quiz"
      summary: Get quiz connection URL with access token.
      security:
        - bearerAuth: []
      parameters:
        - name: challenge_id
          in: path
          description: Сhallenge ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns quiz connection URL with access token.
          content:
            application/json:
              schema:
                type: object
                properties:
                  play_url:
                    type: string
                    description: "Absolute URL to connect websocket."
                    example: "http://localhost:8080/challenges/{challenge_id}/play/{token}"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /rewards/claim:
    get:
      tags:
        - "Rewards"
      summary: Claim all collected rewards.
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Returns claimed rewards amount and link to solana transaction.
          content:
            application/json:
              schema:
                type: object
                properties:
                  amount:
                    type: string
                    example: "83.55 SAO"
                  transaction_url:
                    type: string
                    example: "https://explorer.solana.com/address/CizSaMmnZymceaDTPcNdXgKEpLarCQDvtAkAZA2tSE2u?cluster=devnet"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /rewards/wallet/{wallet_id}:
    get:
      tags:
        - "Rewards"
      summary: returns wallet data by wallet ID.
      security:
        - bearerAuth: []
      parameters:
        - name: wallet_id
          in: path
          description: Wallet ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Get wallet details, including balance and available actions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  solana_account_address:
                    type: string
                    example: "B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9"
                  balance:
                    type: array
                    items:
                      type: object
                      properties:
                        amount:
                          type: number
                          example: 123.45
                        currency:
                          type: string
                          example: "SAO"
                  actions:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: "send_tokens"
                          description: "Available values: send_tokens, receive_tokens, claim_rewards"
                        name:
                          type: string
                          example: "Send"
                        url:
                          type: string
                          example: "/wallets/f4f78cac-5db6-4ecc-ad13-5877705f3126/send"
                          description: "Relative URL for the request to send tokens"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /rewards/wallet/{wallet_id}/transactions:
    get:
      tags:
        - "Rewards"
      summary: Returns all transactions of specific rewards wallet.
      security:
        - bearerAuth: []
      parameters:
        - name: wallet_id
          in: path
          description: Wallet ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Get wallet transactions list.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    wallet_id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3122"
                    tx_hash:
                      type: string
                      example: "B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9B2KhBdBCcKWexFob3wrdcfbjaQ31kZ3r7mrQxaqNLVh9"
                    amount:
                      type: number
                      example: 123.45
                    created_at:
                      type: string
                      example: "2006-01-02T15:04:05Z07:00"
                      description: "RFC3339"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /invitations:
    post:
      tags:
        - "Invitations"
      summary: Sends invitation if person doesn't exist in invitation table.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "qwerty@gmail.com"
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /images/{id}:
    get:
      tags:
        - "Images"
      summary: Get image by id.
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          description: Image ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Returns image data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  file_name:
                    type: string
                    example: "filename"
                  file_path:
                    type: string
                    example: "filepath"
                  file_url:
                    type: string
                    example: "file_url"
                  created_at:
                    type: string
                    example: "2006-01-02T15:04:05Z07:00"
                    description: "RFC3339"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

    delete:
      tags:
        - "Images"
      summary: used for delete from storages image by id.
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          description: Image ID.
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/ResultSuccess"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

  /images:
    post:
      tags:
        - "Images"
      summary: used to store new image.
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          image/png:
            schema:
              type: string
              format: binary
      responses:
        "200":
          description: Returns qrcode data.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                  file_name:
                    type: string
                    example: "filename"
                  file_path:
                    type: string
                    example: "filepath"
                  file_url:
                    type: string
                    example: "file_url"
                  created_at:
                    type: string
                    example: "2006-01-02T15:04:05Z07:00"
                    description: "RFC3339"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"

    get:
      tags:
        - "Images"
      summary: Get images list.
      security:
        - bearerAuth: [ ]

      responses:
        "200":
          description: Returns image data.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "f4f78cac-5db6-4ecc-ad13-5877705f3126"
                    file_name:
                      type: string
                      example: "filename"
                    file_path:
                      type: string
                      example: "filepath"
                    file_url:
                      type: string
                      example: "file_url"
                    created_at:
                      type: string
                      example: "2006-01-02T15:04:05Z07:00"
                      description: "RFC3339"
        "400":
          $ref: "#/components/responses/DefaultError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/DefaultError"